# VPC（virtual private cloud）とは何か
- VPCはAWSクラウドネットワークからユーザー専用の領域を作り出すことができる仮想ネットワークのサービス
- リージョン内に5つまでVPCを設定可能
- 任意のIPアドレス範囲（CIDR）を選択して仮想ネッtワークを構築
- 必要に応じてクラウド内外のネットワーク同士を接続したり、外部のネットワークと接続することができる
- 1つのVPCと1つのサブネットが最小構成。単一サブネットがAZの範囲に設定される
  -　サブネットを追加することで複数AZ範囲にVPCを広げつことはできるがVPCはリージョンを超えることはできない
-AWSアカウントを作成すると自動的に各リージョンに1つづつデフォルトVPCとデフォルトサブネットが作成される

# カスタムのVPC作成
- VPCウィザードを利用しない場合VPCを作成→サブネットを作成→...のように1つづつ作成する
- VPCウィザードを利用する場合資格的にネットワーク構成を一度に作成することが可能

#　サブネット
- サブネットはCIDRで分割したVPCのネットワークセグメント
- サブネットは1つのAZに配置されパブリックサブネットとプライベートサブネットがある
- インターネットゲートウェイへのルートが設定されるとパブリックサブネット。されないとプライベートサブネットになる
- パブリックサブネットにはWEBサイトやWEBアプリを設置、セキュリティーが必要なサービスであるデータベースはプライベートサブネットに設置する
- プライベートサブネット内のインスタンスにインターネットから接続するには踏み台サーバーが必要
- レスポンスにはNATゲートウェイが必要

# VPCコンソールで作成・管理できるゲートウェイ
- インターネットゲートウェイ
  -VPCに一つ設置する 
- NATゲートウェイ
  - プライベートアドレスをパブリックアドレスに変換してインターネットゲートウェイに連携させる
- Egress-Only Internet Gateway
  -　IPv6経由でVPCからインターネットへの送信を可能にし、インターネットからのインスタンスへの接続を防ぐ 
- カスタマーゲートウェイ
  -　オンプレミスとの接続に利用する 
- 仮想プライベートゲートウェイ
  - VPN接続時に利用する

# VPCにおけるDNSの使用
- VPCにおいてDNSを使用することで、システムの管理が簡単になり、より柔軟で効率的な運用が可能になる。
- VPC内で起動したインスタンスがパブリックIPアドレスに対応するDNSホスト名を取得するために設定が必要
- enableDnsHostnames
  - VPC内のインスタンスはDNSホスト名を取得する
- enableDnsSupport
  -   VPC内のマシンがインターネット上のサービスや他のマシンと、ドメイン名を使って通信できるようになります。
  
